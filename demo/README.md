# Demos

#### Content
1. [SchIM module configurator](#schim-module-configurators)
    1. [Time Disiion Multiple Access](#time-division-multiple-access)
    2. [Traffic shaping](#traffic-shaping)
    3. [Fixed Priority](#fixed-priority)
2. [Schedulers synthetic benchmarks](#schedulers-synthetic-benchmarks)
    1. [Time Disiion Multiple Access](#time-division-multiple-access)
    2. [Traffic shaping](#traffic-shaping)
    3. [Fixed Priority](#fixed-priority)
3. [Utils](#utils)
    1. [Poke](#poke)
    2. [Populate](#populate)
    3. [Blast fake colored](#blast-fake-colored)
    4. [Spam fake colored](#spam-fake-colored)

## Organisation
The present folder's organisation is as follows:
 - ```exec/``` contains the executables
 - ```include/``` contains all the ```c``` header files
 - ```objects/``` contains all the temporary objects required for compilation
 - ```src/``` contains all the source files
 - ```Makefile``` used to generate the executables

**Remark:**
Note that, ```objects/``` and ```exec/``` are both generated by the ```Makefile```!

## SchIM module configurators
### Time Division Multiple Access (TDMA)
Usage
```bash
exec/config_schim_tdma.out <core-0-slot-size> <core-1-slot-size> <core-2-slot-size> <core-3-slot-size> <core-0-threshold> <core-1-threshold> <core-2-threshold> <core-3-threshold>
```
For instance
```bash
exec/config_schim_tdma.out 512 512 512 512 2 2 2 2
```

### Traffic Shaping (TS)
Usage
```bash
exec/config_schim_ts.out <core-0-mit-size> <core-1-mit-size> <core-2-mit-size> <core-3-mit-size> <core-0-threshold> <core-1-threshold> <core-2-threshold> <core-3-threshold>
```
For instance
```bash
exec/config_schim_ts.out 32 32 32 32 1 1 1 1
```

### Fixed Priority (FP)
Usage
```bash
exec/config_schim_fp.out <prio-core-3-hex,prio-core-2-hex,prio-core-1-hex,prio-core-0-hex> <core-0-threshold> <core-1-threshold> <core-2-threshold> <core-3-threshold>
```
For instance
```bash
exec/config_schim_fp.out 0f0e0d0c 1 1 1 1
```

## Schedulers synthetic benchmarks
### Time Division Multiple Access (TDMA)
Usage
```bash
exec/tdma_read.out <extra-cores-having-active-slot> <extra-active-cores> <core-under-analysis-slot-size> <extra-cores-slot-size> <threshold>
```
```bash
exec/tdma_write.out <extra-cores-having-active-slot> <extra-active-cores> <core-under-analysis-slot-size> <extra-cores-slot-size> <threshold>
```
For instance
```bash
exec/tdma_read.out 2 1 4096 3125000 1
```

### Traffic Shaping (TS)
Usage
```bash
exec/ts_read.out <extra-active-cores> <core-under-analysis-mit> <core-in-contetion-mit> <threshold>
```
```bash
exec/ts_write.out <extra-active-cores> <core-under-analysis-mit> <core-in-contetion-mit> <threshold>
```
For instance
```bash
exec/ts_read.out 1 32 32 2
```

### Fixed Priority (FP)
Usage
```bash
exec/fp_read.out <nb-competing-cores> <prio-core-3-hex,prio-core-2-hex,prio-core-1-hex,prio-core-0-hex> <nb-samples> <threshold>
```
```bash
exec/fp_write.out <nb-competing-cores> <prio-core-3-hex,prio-core-2-hex,prio-core-1-hex,prio-core-0-hex> <nb-samples> <threshold>
```
For instance
```bash
exec/fp_read.out 2 0f0e0d0c 20 2
```

## Utils
### Poke
Usage for reading
```bash
exec/poke.out r <core-id> <dest-address-32bit-hex>
```
or for writing
```bash
exec/poke.out w <core-id> <dest-address-32bit-hex> <data-32bit>
```
For instance
```bash
exec/poke.out w 1 a0000000 cafebeef
exec/poke.out r 1 a0000000
```

### Populate
Usage
```bash
exec/populate.out <address-32bit-hex> <size-in-bytes>
```
For instance
```bash
exec/populate.out a0000000 2048
```

### Blast fake colored
**Remarks:**
 - Assume to be run on core 0 (coloring: ```0xf000``` see ```doc/```)
 - Does not measure anything (see [Spam fake colored](#spam-fake-colored) for that)

 Usage
 ```bash
 exec/blast_fake_colored.out <address-40bit-hex> <mode-either-r-or-w>
 ```
 For instance
 ```bash
 exec/blast_fake_colored.out 1000000000 r
 ```

### Spam fake colored
**Remarks:**
- Assume to be run on core 0 (coloring: ```0xf000``` see ```doc/```)

Usage
```bash
exec/spam_fake_colored.out <address-40bit-hex> <mode-either-r-or-w>
```
For instance
```bash
exec/spam_fake_colored.out 1000000000 r
```
